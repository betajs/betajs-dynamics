<html>
	<head>
		<script src="assets/jquery.js"></script>
		<script src="assets/beta.js"></script>
		<script src="assets/beta-browser.js"></script>
		<script src="../dist/betajs-dynamics.js"></script>
	</head>
	<body>
		<go>

			<ba-statusbar ba-status="{{=text}}">
			</ba-statusbar>

			<input type="text" value="{{=dir}}" />

			<input type="text" class="{{superclass}}" value="{{=text}}" />

		</go>
		<script>
			BetaJS.Dynamics.Dynamic.extend("BetaJS.Dynamics.StatusBar", {
				templateUrl: "assets/status_bar_template.html",
				initial: {
					bind: {
						other: "<:dir"
					},
					create: function () {
						console.log("HI");
						console.log(this.get(status));
					}
				}
			}).register("ba-statusbar");

			var mainDynamic = new BetaJS.Dynamics.Dynamic({
				element: $("go").get(0)
			});
			mainDynamic.setAll({
				dir: "foobar2",
				text: "Hello"
			});
			mainDynamic.activate();

			var statusbar = mainDynamic.scope(">[label='statusbb']");
			statusbar.freeze();
			statusbar.call("message", "test test test");
		</script>
	</body>
</html>