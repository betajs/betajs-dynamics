<html>
<head>
    <link rel="stylesheet" href="../assets/styles.css">

    <script src="../assets/jquery.js"></script>
    <script src="../assets/beta.js"></script>
    <script src="../assets/beta-browser.js"></script>
    <script src="../../dist/betajs-dynamics.js"></script>
</head>
<body>

<test>
	<div ba-attrs="{{{foobar: 'xyz'}}}">	
		<ba-innertest ba-attrs="{{{tester: 'abc'}}}">
		</ba-innertest>
	</div>
	<testouter>{{foobar}}</testouter><testinner>{{tester}}</testinner>
</test>

<script>
	BetaJS.Dynamics.Dynamic.extend(null, {
		template: '<outer>{{foobar}}</outer><inner>{{tester}}</inner>'
	}).register("ba-innertest");

    var root = $("test");

    var dynamic = new BetaJS.Dynamics.Dynamic({
        element: root
    });
    dynamic.activate();

    function test() {
        QUnit.equal(root.find("testouter").html().trim(), "xyz");
        QUnit.equal(root.find("testinner").html().trim(), "");
        QUnit.equal(root.find("outer").html().trim(), "");
        QUnit.equal(root.find("inner").html().trim(), "abc");
    }
</script>

</body>
</html>