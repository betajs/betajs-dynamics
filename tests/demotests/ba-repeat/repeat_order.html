<html>
<head>
    

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="../../../node_modules/betajs-scoped/dist/scoped.js"></script>
    <script src="../../../node_modules/betajs/dist/beta-noscoped.js"></script>
    <script src="../../../node_modules/betajs-browser/dist/betajs-browser-noscoped.js"></script>
    <script src="../../../dist/betajs-dynamics.js"></script>
</head>
<body>

<div id="test">
	<div ba-repeat="{{item :: items}}">
		<div>{{item}}</div>
	</div>		
</div>

<script>
    var root = $("#test");

    var dynamic = new BetaJS.Dynamics.Dynamic({
        element: root,
       	attrs: {
       		items: [1,2,3,4,5]
       	}
    });
    dynamic.activate();

    function test() {
    	var base = $(root.children().get(0));
    	var items = dynamic.get("items");
        QUnit.equal(base.children().length, items.length);
        for (var i = 0; i < items.length; ++i)
        	QUnit.equal(items[i], $(base.children().get(i)).html().trim());
    }
</script>

</body>
</html>