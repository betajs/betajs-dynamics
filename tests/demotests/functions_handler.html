<html>
    <head>
        <link rel="stylesheet" href="../assets/styles.css">

        <script src="../assets/jquery.js"></script>
        <script src="../../vendors/beta.js"></script>
        <script src="../../vendors/beta-browser-noscoped.js"></script>
        <script src="../../dist/betajs-dynamics.js"></script>
    </head>
    <body>

        <test>
            <xyz-innertest ba-functions="{{callbacks}}"></xyz-innertest>
        </test>

        <script>
            BetaJS.Dynamics.Dynamic.extend(null, {
                template: '<button ba-click="click()">Click Me</button>'
            }).register("xyz-innertest");

            var main = new BetaJS.Dynamics.Dynamic({
                element: $("test")
            });
            main.set("callbacks", {
            	click: function () {
            		main.set("clicked", true);
            	}
            });
            main.activate();


            function test() {
            	$("test button").click();
                QUnit.equal(main.get("clicked"), true);
            }
        </script>

    </body>
</html>